# р╕Бр╕▓р╕гр╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓р╕гр╕░р╕Ър╕Ър╕кр╕Цр╕┤р╕Хр╕┤р╕Бр╕▓р╕гр╣Ар╕Вр╣Йр╕▓р╕Кр╕бр╣Ар╕зр╣Зр╕Ър╣Др╕Лр╕Хр╣М

## р╣Др╕Яр╕ер╣Мр╕Чр╕╡р╣Ир╕кр╕гр╣Йр╕▓р╕Зр╣Гр╕лр╕бр╣И тЬЕ

### 1. API Routes
- тЬЕ `src/app/api/website-stats/route.js` - API р╕лр╕ер╕▒р╕Бр╕кр╕│р╕лр╕гр╕▒р╕Ър╕Фр╕╢р╕Зр╣Бр╕ер╕░р╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕кр╕Цр╕┤р╕Хр╕┤
- тЬЕ `src/app/api/website-stats/seed/route.js` - API р╕кр╕│р╕лр╕гр╕▒р╕Ър╕кр╕гр╣Йр╕▓р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Чр╕Фр╕кр╕нр╕Ъ

### 2. Hooks & Components  
- тЬЕ `src/hooks/useVisitTracker.js` - Hook р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Хр╕┤р╕Фр╕Хр╕▓р╕бр╕Бр╕▓р╕гр╣Ар╕Вр╣Йр╕▓р╕Кр╕б
- тЬЕ `src/components/VisitTracker.js` - Component р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Хр╕┤р╕Фр╕Хр╕▓р╕бр╕Бр╕▓р╕гр╣Ар╕Вр╣Йр╕▓р╕Кр╕б

### 3. Updated Components
- тЬЕ `src/app/component/LandingPage/StateSection.jsx` - р╣Бр╕кр╕Фр╕Зр╕кр╕Цр╕┤р╕Хр╕┤р╕Ир╕гр╕┤р╕Зр╣Бр╕Чр╕Щ mock data

## р╕Бр╕▓р╕гр╕Хр╕▒р╣Йр╕Зр╕Др╣Ир╕▓р╣Ар╕гр╕┤р╣Ир╕бр╕Хр╣Йр╕Щ

### 1. р╕кр╕гр╣Йр╕▓р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Чр╕Фр╕кр╕нр╕Ъ ЁЯЧГя╕П
```bash
# р╣Ар╕гр╕╡р╕вр╕Б API р╣Ар╕Юр╕╖р╣Ир╕нр╕кр╕гр╣Йр╕▓р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Чр╕Фр╕кр╕нр╕Ъ
curl -X POST http://localhost:3000/api/website-stats/seed
```

р╕лр╕гр╕╖р╕нр╣Ар╕Ыр╕┤р╕Фр╣Гр╕Щр╣Ар╕Ър╕гр╕▓р╕зр╣Мр╣Ар╕Лр╕нр╕гр╣М:
```
http://localhost:3000/api/website-stats/seed
```

### 2. р╣Ар╕Юр╕┤р╣Ир╕б VisitTracker р╣Гр╕Щр╕лр╕Щр╣Йр╕▓р╕лр╕ер╕▒р╕Б ЁЯУК
р╣Ар╕Юр╕┤р╣Ир╕бр╣Гр╕Щ `src/app/page.js` р╕лр╕гр╕╖р╕н `src/app/layout.js`:

```javascript
import VisitTracker from '@/components/VisitTracker';

export default function RootLayout({ children }) {
  return (
    <html lang="th">
      <body>
        <VisitTracker />
        {children}
      </body>
    </html>
  );
}
```

### 3. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Бр╕▓р╕гр╕Чр╕│р╕Зр╕▓р╕Щ ЁЯФН
1. р╣Ар╕Ыр╕┤р╕Фр╣Ар╕зр╣Зр╕Ър╣Др╕Лр╕Хр╣Мр╣Гр╕Щр╣Ар╕Ър╕гр╕▓р╕зр╣Мр╣Ар╕Лр╕нр╕гр╣М
2. р╕Фр╕╣р╕Чр╕╡р╣И StateSection р╕Др╕зр╕гр╣Бр╕кр╕Фр╕Зр╕кр╕Цр╕┤р╕Хр╕┤р╕Ир╕гр╕┤р╕З
3. р╕гр╕╡р╣Ар╕Яр╕гр╕Кр╕лр╕Щр╣Йр╕▓р╕лр╕ер╕▓р╕вр╕Др╕гр╕▒р╣Йр╕Зр╣Ар╕Юр╕╖р╣Ир╕нр╕Чр╕Фр╕кр╕нр╕Ъ

## р╕Др╕╕р╕Ур╕кр╕бр╕Ър╕▒р╕Хр╕┤

### ЁЯУИ р╕кр╕Цр╕┤р╕Хр╕┤р╕Чр╕╡р╣Ир╣Бр╕кр╕Фр╕З
- **р╕Вр╕Ур╕░р╕Щр╕╡р╣Й** - р╕Ьр╕╣р╣Йр╣Гр╕Кр╣Йр╕Чр╕╡р╣И active р╣Гр╕Щ 5 р╕Щр╕▓р╕Чр╕╡р╕Чр╕╡р╣Ир╕Ьр╣Ир╕▓р╕Щр╕бр╕▓
- **р╕зр╕▒р╕Щр╕Щр╕╡р╣Й** - р╕Ьр╕╣р╣Йр╣Ар╕Вр╣Йр╕▓р╕Кр╕бр╕зр╕▒р╕Щр╕Щр╕╡р╣Й (unique IP)
- **р╕кр╕▒р╕Ыр╕Фр╕▓р╕лр╣Мр╕Щр╕╡р╣Й** - р╕Ьр╕╣р╣Йр╣Ар╕Вр╣Йр╕▓р╕Кр╕бр╕кр╕▒р╕Ыр╕Фр╕▓р╕лр╣Мр╕Щр╕╡р╣Й (unique IP)
- **р╣Ар╕Фр╕╖р╕нр╕Щр╕Щр╕╡р╣Й** - р╕Ьр╕╣р╣Йр╣Ар╕Вр╣Йр╕▓р╕Кр╕бр╣Ар╕Фр╕╖р╕нр╕Щр╕Щр╕╡р╣Й (unique IP)
- **р╕Ыр╕╡р╕Щр╕╡р╣Й** - р╕Ьр╕╣р╣Йр╣Ар╕Вр╣Йр╕▓р╕Кр╕бр╕Ыр╕╡р╕Щр╕╡р╣Й (unique IP)
- **р╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф** - р╕Ьр╕╣р╣Йр╣Ар╕Вр╣Йр╕▓р╕Кр╕бр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф (unique IP)

### ЁЯФД р╕Бр╕▓р╕гр╕нр╕▒р╕Ыр╣Ар╕Фр╕Х
- **Real-time:** р╕нр╕▒р╕Ыр╣Ар╕Фр╕Хр╕Чр╕╕р╕Б 30 р╕зр╕┤р╕Щр╕▓р╕Чр╕╡
- **Visit Tracking:** р╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕Бр╕▓р╕гр╣Ар╕Вр╣Йр╕▓р╕Кр╕бр╕Чр╕╕р╕Б 5 р╕Щр╕▓р╕Чр╕╡р╣Ар╕Юр╕╖р╣Ир╕нр╕нр╕▒р╕Ыр╣Ар╕Фр╕Х "р╕Вр╕Ур╕░р╕Щр╕╡р╣Й"
- **Session Tracking:** р╣Гр╕Кр╣Й sessionStorage р╣Ар╕Юр╕╖р╣Ир╕нр╕Хр╕┤р╕Фр╕Хр╕▓р╕б session

### ЁЯТ╛ Database Schema
```sql
CREATE TABLE website_visits (
  id INT AUTO_INCREMENT PRIMARY KEY,
  ip_address VARCHAR(45),
  user_agent TEXT,
  page_url VARCHAR(500),
  visit_date DATE,
  visit_time DATETIME DEFAULT CURRENT_TIMESTAMP,
  session_id VARCHAR(100),
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  INDEX idx_visit_date (visit_date),
  INDEX idx_visit_time (visit_time),
  INDEX idx_ip_address (ip_address)
);
```

## API Endpoints

### GET /api/website-stats
р╕Фр╕╢р╕Зр╕кр╕Цр╕┤р╕Хр╕┤р╕Бр╕▓р╕гр╣Ар╕Вр╣Йр╕▓р╕Кр╕бр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф

**Response:**
```json
{
  "success": true,
  "data": {
    "current": 25,
    "today": 150,
    "thisWeek": 1200,
    "thisMonth": 4500,
    "thisYear": 45000,
    "total": 125000,
    "lastUpdated": "2025-01-03T10:30:00.000Z"
  }
}
```

### POST /api/website-stats
р╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╕Бр╕▓р╕гр╣Ар╕Вр╣Йр╕▓р╕Кр╕б

**Request Body:**
```json
{
  "pageUrl": "/",
  "sessionId": "session_123456789"
}
```

### POST /api/website-stats/seed
р╕кр╕гр╣Йр╕▓р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Чр╕Фр╕кр╕нр╕Ъ (р╕кр╕│р╕лр╕гр╕▒р╕Ъ development р╣Ар╕Чр╣Ир╕▓р╕Щр╕▒р╣Йр╕Щ)

## р╕Бр╕▓р╕гр╕Ыр╕гр╕▒р╕Ър╣Бр╕Хр╣Ир╕З

### 1. р╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╕Кр╣Ир╕зр╕Зр╣Ар╕зр╕ер╕▓ "р╕Вр╕Ур╕░р╕Щр╕╡р╣Й" тП░
р╣Бр╕Бр╣Йр╣Др╕Вр╣Гр╕Щ `src/app/api/website-stats/route.js`:
```javascript
// р╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╕Ир╕▓р╕Б 5 р╕Щр╕▓р╕Чр╕╡ р╣Ар╕Ыр╣Зр╕Щ 10 р╕Щр╕▓р╕Чр╕╡
WHERE visit_time >= DATE_SUB(NOW(), INTERVAL 10 MINUTE)
```

### 2. р╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╕Др╕зр╕▓р╕бр╕Цр╕╡р╣Ир╕Бр╕▓р╕гр╕нр╕▒р╕Ыр╣Ар╕Фр╕Х ЁЯФД
р╣Бр╕Бр╣Йр╣Др╕Вр╣Гр╕Щ `src/app/component/LandingPage/StateSection.jsx`:
```javascript
// р╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╕Ир╕▓р╕Б 30 р╕зр╕┤р╕Щр╕▓р╕Чр╕╡ р╣Ар╕Ыр╣Зр╕Щ 60 р╕зр╕┤р╕Щр╕▓р╕Чр╕╡
const interval = setInterval(fetchStats, 60000);
```

### 3. р╣Ар╕Юр╕┤р╣Ир╕бр╕Бр╕▓р╕гр╕Бр╕гр╕нр╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕е ЁЯФН
р╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Ар╕Юр╕┤р╣Ир╕бр╕Бр╕▓р╕гр╕Бр╕гр╕нр╕З bot traffic, internal IPs, р╕лр╕гр╕╖р╕н specific user agents р╣Др╕Фр╣Й

## р╕Бр╕▓р╕г Deploy

### Production Considerations:
1. **Database Indexing** - р╕Хр╕▓р╕гр╕▓р╕Зр╕бр╕╡ indexes р╕кр╕│р╕лр╕гр╕▒р╕Ъ performance
2. **Rate Limiting** - р╕Др╕зр╕гр╣Ар╕Юр╕┤р╣Ир╕б rate limiting р╕кр╕│р╕лр╕гр╕▒р╕Ъ API
3. **Caching** - р╕Др╕зр╕гр╣Гр╕Кр╣Й Redis р╕лр╕гр╕╖р╕н memory cache р╕кр╕│р╕лр╕гр╕▒р╕Ър╕кр╕Цр╕┤р╕Хр╕┤
4. **Privacy** - IP addresses р╕Цр╕╣р╕Бр╣Ар╕Бр╣Зр╕Ъ р╕Др╕зр╕гр╕бр╕╡ privacy policy

## р╕кр╕гр╕╕р╕Ы тЬЕ

р╕гр╕░р╕Ър╕Ър╕кр╕Цр╕┤р╕Хр╕┤р╕Бр╕▓р╕гр╣Ар╕Вр╣Йр╕▓р╕Кр╕бр╣Ар╕зр╣Зр╕Ър╣Др╕Лр╕Хр╣Мр╕Юр╕гр╣Йр╕нр╕бр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╣Бр╕ер╣Йр╕з:
- тЬЕ р╣Бр╕кр╕Фр╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ир╕гр╕┤р╕Зр╣Бр╕Чр╕Щ mock data
- тЬЕ р╕нр╕▒р╕Ыр╣Ар╕Фр╕Х real-time
- тЬЕ р╕Хр╕┤р╕Фр╕Хр╕▓р╕бр╕Бр╕▓р╕гр╣Ар╕Вр╣Йр╕▓р╕Кр╕бр╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤
- тЬЕ р╕бр╕╡ API р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╕Вр╣Йр╕нр╕бр╕╣р╕е
- тЬЕ р╕гр╕нр╕Зр╕гр╕▒р╕Ър╕Бр╕▓р╕г scale р╣Др╕Фр╣Й

**р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Цр╕▒р╕Фр╣Др╕Ы:** р╣Ар╕гр╕╡р╕вр╕Б API seed р╣Ар╕Юр╕╖р╣Ир╕нр╕кр╕гр╣Йр╕▓р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Чр╕Фр╕кр╕нр╕Ър╣Бр╕ер╕░р╣Ар╕Юр╕┤р╣Ир╕б VisitTracker р╣Гр╕Щр╕лр╕Щр╣Йр╕▓р╕лр╕ер╕▒р╕Б