# ‡∏™‡∏£‡∏∏‡∏õ‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏Å‡∏≤‡∏£ Upload ‡πÑ‡∏ü‡∏•‡πå‡∏ã‡πâ‡∏≥

## ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏û‡∏ö
‡∏Å‡∏≤‡∏£ upload ‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡∏∂‡πâ‡∏ô 2 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏°‡∏µ‡πÑ‡∏ü‡∏•‡πå‡∏ã‡πâ‡∏≥‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö

## ‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏‡∏Ç‡∏≠‡∏á‡∏õ‡∏±‡∏ç‡∏´‡∏≤
‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏ó‡∏±‡πâ‡∏á `beforeUpload` ‡πÅ‡∏•‡∏∞ `customRequest` ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ô‡πÉ‡∏ô Ant Design Upload component:

1. `beforeUpload={handleUpload}` - ‡∏ó‡∏≥‡πÉ‡∏´‡πâ Ant Design ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å handleUpload ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
2. `customRequest={({ file }) => handleUpload(file)}` - ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å handleUpload ‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á

‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå: handleUpload ‡∏ñ‡∏π‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏Å 2 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á = upload ‡πÑ‡∏ü‡∏•‡πå 2 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á

## ‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç

### 1. PostManagement.js ‚úÖ ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÅ‡∏•‡πâ‡∏ß
**‡∏õ‡∏±‡∏ç‡∏´‡∏≤:** ‡πÉ‡∏ä‡πâ `beforeUpload={handleUpload}` 
**‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:** ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô `beforeUpload={() => false}` ‡πÅ‡∏•‡∏∞‡πÉ‡∏ä‡πâ `customRequest`

### 2. ImageUpload.js ‚úÖ ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÅ‡∏•‡πâ‡∏ß  
**‡∏õ‡∏±‡∏ç‡∏´‡∏≤:** ‡πÉ‡∏ä‡πâ `beforeUpload={beforeUpload}` ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö validation + `customRequest`
**‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:** ‡∏¢‡πâ‡∏≤‡∏¢ validation ‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ‡πÉ‡∏ô handleUpload ‡πÅ‡∏•‡∏∞‡πÉ‡∏ä‡πâ `beforeUpload={() => false}`

### 3. ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°: ‡∏õ‡∏∏‡πà‡∏° "‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô" ‡∏ó‡∏≥‡πÉ‡∏´‡πâ upload ‡∏ã‡πâ‡∏≥ ‚úÖ ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÅ‡∏•‡πâ‡∏ß
‡∏û‡∏ö‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÉ‡∏´‡∏°‡πà‡∏ó‡∏µ‡πà‡∏õ‡∏∏‡πà‡∏° "‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô" ‡πÉ‡∏ä‡πâ `uploadProps` ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£ upload ‡πÉ‡∏´‡∏°‡πà ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏Å‡∏¥‡∏î‡∏Å‡∏≤‡∏£ upload ‡∏ã‡πâ‡∏≥

**‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:**
- **LocalDevPlanManagement.js** - ‡πÄ‡∏û‡∏¥‡πà‡∏° duplicate prevention ‡πÉ‡∏ô customUpload
- **ProcurementPlanManagement.js** - ‡πÄ‡∏û‡∏¥‡πà‡∏° duplicate prevention ‡πÉ‡∏ô customUpload  
- **PerformanceResultsManagement.js** - ‡πÄ‡∏û‡∏¥‡πà‡∏° duplicate prevention ‡πÉ‡∏ô customUpload
- **LawsRegsManagement.js** - ‡πÄ‡∏û‡∏¥‡πà‡∏° duplicate prevention ‡πÉ‡∏ô customUpload

**‡∏Å‡∏≤‡∏£‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£ upload ‡∏ã‡πâ‡∏≥:**
```javascript
// ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£ upload ‡∏ã‡πâ‡∏≥ - ‡∏ñ‡πâ‡∏≤‡∏Å‡∏≥‡∏•‡∏±‡∏á upload ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß‡πÉ‡∏´‡πâ‡∏´‡∏¢‡∏∏‡∏î
if (uploading) {
  console.log('Upload already in progress, skipping...');
  onError(new Error('Upload already in progress'));
  return;
}
```

### 4. ‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ ‚úÖ
- FileUpload.js - ‡πÉ‡∏ä‡πâ `beforeUpload={() => false}` ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á

## ‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á

### ‡πÅ‡∏ö‡∏ö‡πÄ‡∏î‡∏¥‡∏° (‡∏ú‡∏¥‡∏î):
```javascript
<Upload
  beforeUpload={handleUpload}  // ‚ùå ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å handleUpload ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà 1
  customRequest={({ file }) => handleUpload(file)}  // ‚ùå ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å handleUpload ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà 2
  // ... props ‡∏≠‡∏∑‡πà‡∏ô‡πÜ
>
```

### ‡πÅ‡∏ö‡∏ö‡πÉ‡∏´‡∏°‡πà (‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á):
```javascript
<Upload
  beforeUpload={() => false}  // ‚úÖ ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£ upload ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
  customRequest={({ file }) => handleUpload(file)}  // ‚úÖ ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ upload ‡πÄ‡∏≠‡∏á
  // ... props ‡∏≠‡∏∑‡πà‡∏ô‡πÜ
>
```

## ‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Backend API Routes ‚úÖ
‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö API routes ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÅ‡∏•‡πâ‡∏ß ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏Å‡∏≤‡∏£ upload ‡∏ã‡πâ‡∏≥‡∏ó‡∏µ‡πà backend:
- `/api/local-dev-plan/upload-laravel/route.js` ‚úÖ
- `/api/laws-regs/upload-laravel/route.js` ‚úÖ  
- `/api/procurement-plan/upload-laravel/route.js` ‚úÖ
- `/api/perf-results/upload-laravel/route.js` ‚úÖ

‡∏ó‡∏∏‡∏Å API route ‡∏°‡∏µ‡∏Å‡∏≤‡∏£:
- Upload ‡πÑ‡∏õ‡∏¢‡∏±‡∏á Laravel API ‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß
- ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏•‡∏á database ‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß
- ‡πÑ‡∏°‡πà‡∏°‡∏µ loop ‡∏´‡∏£‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏ã‡πâ‡∏≥

## ‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö
‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÅ‡∏•‡πâ‡∏ß ‡∏Ñ‡∏ß‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö:
1. Upload ‡πÑ‡∏ü‡∏•‡πå‡πÉ‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞ component
2. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡πÑ‡∏ü‡∏•‡πå‡∏ñ‡∏π‡∏Å upload ‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß
3. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö validation ‡∏¢‡∏±‡∏á‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏õ‡∏Å‡∏ï‡∏¥
4. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö progress indicator ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
5. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö console.log ‡∏ß‡πà‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏Å API ‡∏ã‡πâ‡∏≥

## ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏
- ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ `beforeUpload={() => false}` ‡∏à‡∏∞‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô Ant Design ‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£ upload ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
- `customRequest` ‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏≤‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏Å‡∏≤‡∏£ upload ‡πÄ‡∏≠‡∏á‡πÑ‡∏î‡πâ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå
- Validation ‡∏Ñ‡∏ß‡∏£‡∏ó‡∏≥‡πÉ‡∏ô customRequest function ‡πÅ‡∏ó‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏ó‡∏≥‡πÉ‡∏ô beforeUpload
### ‡∏£
‡∏≠‡∏ö‡∏™‡∏≤‡∏° - ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á record ‡∏ã‡πâ‡∏≥‡∏à‡∏≤‡∏Å handleFileSubmit ‚úÖ
**‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏´‡∏•‡∏±‡∏Å:** ‡∏Å‡∏≤‡∏£ upload ‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡∏∂‡πâ‡∏ô 2 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á:
1. `customUpload` ‚Üí ‡∏™‡∏£‡πâ‡∏≤‡∏á record ‡∏ú‡πà‡∏≤‡∏ô `/api/*/upload-laravel`
2. `handleFileSubmit` ‚Üí ‡∏™‡∏£‡πâ‡∏≤‡∏á record ‡∏ã‡πâ‡∏≥‡∏ú‡πà‡∏≤‡∏ô `/api/*/files`

**‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:**
7. **LocalDevPlanManagement.js** - ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà upload ‡πÅ‡∏•‡πâ‡∏ß
8. **ProcurementPlanManagement.js** - ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà upload ‡πÅ‡∏•‡πâ‡∏ß
9. **PerformanceResultsManagement.js** - ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà upload ‡πÅ‡∏•‡πâ‡∏ß
10. **LawsRegsManagement.js** - ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà upload ‡πÅ‡∏•‡πâ‡∏ß

**‡∏Å‡∏≤‡∏£‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á record ‡∏ã‡πâ‡∏≥:**
```javascript
// ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡πÑ‡∏ü‡∏•‡πå‡∏ñ‡∏π‡∏Å upload ‡∏ú‡πà‡∏≤‡∏ô customUpload ‡πÅ‡∏•‡πâ‡∏ß‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
if (values.files_path && values.files_path.includes('/storage/uploads/')) {
  console.log('üö´ File already uploaded via customUpload, skipping API call');
  message.success("‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÑ‡∏ü‡∏•‡πå‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à");
  loadFiles(selectedType.id);
  closeFileModal();
  return;
}
```

## ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢ ‚úÖ
- ‚úÖ ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏Å‡∏≤‡∏£ upload ‡∏ã‡πâ‡∏≥‡∏à‡∏≤‡∏Å `beforeUpload` + `customRequest`
- ‚úÖ ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏Å‡∏≤‡∏£ upload ‡∏ã‡πâ‡∏≥‡∏à‡∏≤‡∏Å‡∏õ‡∏∏‡πà‡∏° "‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô"
- ‚úÖ ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á record ‡∏ã‡πâ‡∏≥‡∏à‡∏≤‡∏Å `handleFileSubmit`
- ‚úÖ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£ upload ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ô‡πÉ‡∏ô‡∏ó‡∏∏‡∏Å component
- ‚úÖ Backend API routes ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤

**‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡∏ß‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á: 1 ‡∏Å‡∏≤‡∏£ upload = 1 record ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô!** üéâ