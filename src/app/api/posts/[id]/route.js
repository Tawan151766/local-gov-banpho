import { NextResponse } from 'next/server';

// Mock data for testing - same as in the main posts route
const mockActivities = [
  {
    id: 1,
    title: "กิจกรรมปลูกป่าชุมชน",
    content: `เทศบาลตำบลบ้านโพธิ์ จัดกิจกรรมปลูกป่าชุมชน เพื่อสร้างจิตสำนึกในการอนุรักษ์สิ่งแวดล้อม และเพิ่มพื้นที่สีเขียวให้กับชุมชน

กิจกรรมนี้เป็นส่วนหนึ่งของโครงการอนุรักษ์สิ่งแวดล้อมของเทศบาล โดยมีการเชิญชวนประชาชนในพื้นที่ร่วมกันปลูกต้นไม้ในบริเวณที่เหมาะสม

ผลที่คาดหวัง:
- เพิ่มพื้นที่สีเขียวในชุมชน
- สร้างจิตสำนึกด้านสิ่งแวดล้อม
- ส่งเสริมการมีส่วนร่วมของประชาชน
- ปรับปรุงคุณภาพอากาศในพื้นที่`,
    image: "/image/Boat.jpg",
    created_at: "2024-01-15T10:00:00Z",
    type: "กิจกรรม",
    location: "บริเวณสวนสาธารณะตำบลบ้านโพธิ์",
    organizer: "เทศบาลตำบลบ้านโพธิ์"
  },
  {
    id: 2,
    title: "งานประเพณีสงกรานต์",
    content: `จัดงานประเพณีสงกรานต์ประจำปี พร้อมกิจกรรมสรงน้ำพระพุทธรูป รดน้ำดำหัวผู้สูงอายุ และกิจกรรมสันทนาการต่างๆ

งานประเพณีสงกรานต์เป็นงานประจำปีที่สำคัญของชุมชน เป็นการสืบทอดประเพณีไทยและเสริมสร้างความสามัคคีในชุมชน

กิจกรรมภายในงาน:
- พิธีสรงน้ำพระพุทธรูป
- พิธีรดน้ำดำหัวผู้สูงอายุ
- การแสดงพื้นบ้าน
- กิจกรรมเล่นน้ำแบบประเพณี
- จำหน่ายอาหารและของที่ระลึก`,
    image: "/image/Boat.jpg",
    created_at: "2024-04-13T09:00:00Z",
    type: "กิจกรรม",
    location: "ลานอเนกประสงค์เทศบาลตำบลบ้านโพธิ์",
    organizer: "เทศบาลตำบลบ้านโพธิ์ ร่วมกับชุมชน"
  },
  {
    id: 3,
    title: "โครงการอบรมอาชีพ",
    content: `จัดอบรมอาชีพให้กับประชาชนในพื้นที่ เพื่อเพิ่มทักษะและสร้างรายได้เสริม ในหลักสูตรต่างๆ เช่น การทำขนม การเย็บผ้า

โครงการนี้มุ่งเน้นการพัฒนาทักษะอาชีพให้กับประชาชน เพื่อให้สามารถสร้างรายได้และพึ่งพาตนเองได้

หลักสูตรที่เปิดสอน:
- การทำขนมไทย
- การเย็บผ้าและตัดเสื้อผ้า
- การทำผลิตภัณฑ์จากวัสดุธรรมชาติ
- การเลี้ยงปลาในบ่อเล็ก
- การปลูกผักปลอดสารพิษ

ผู้เข้าร่วมจะได้รับใบประกาศนียบัตรและอุปกรณ์เริ่มต้นสำหรับประกอบอาชีพ`,
    image: "/image/Boat.jpg",
    created_at: "2024-03-20T14:00:00Z",
    type: "กิจกรรม",
    location: "ศูนย์การเรียนรู้ชุมชนตำบลบ้านโพธิ์",
    organizer: "เทศบาลตำบลบ้านโพธิ์ ร่วมกับกรมส่งเสริมการเกษตร"
  },
  {
    id: 4,
    title: "กิจกรรมวันเด็กแห่งชาติ",
    content: `จัดงานวันเด็กแห่งชาติ พร้อมกิจกรรมสนุกสนาน ของรางวัล และการแสดงต่างๆ เพื่อส่งเสริมพัฒนาการของเด็กในชุมชน

วันเด็กแห่งชาติเป็นวันสำคัญที่เทศบาลให้ความสำคัญ เพื่อส่งเสริมและพัฒนาเด็กให้เป็นอนาคตที่ดีของชาติ

กิจกรรมในงาน:
- การแสดงของเด็กๆ
- เกมส์และกิจกรรมสนุกสนาน
- การแจกของรางวัลและของเล่น
- นิทรรศการความรู้สำหรับเด็ก
- บริการตรวจสุขภาพเด็กฟรี
- อาหารและเครื่องดื่มฟรี

เป้าหมาย: ส่งเสริมความสุขและการเรียนรู้ของเด็กในชุมชน`,
    image: "/image/Boat.jpg",
    created_at: "2024-01-13T08:00:00Z",
    type: "กิจกรรม",
    location: "โรงเรียนบ้านโพธิ์วิทยา",
    organizer: "เทศบาลตำบลบ้านโพธิ์ ร่วมกับโรงเรียนในพื้นที่"
  },
  {
    id: 5,
    title: "โครงการตรวจสุขภาพฟรี",
    content: `จัดโครงการตรวจสุขภาพฟรีให้กับประชาชน ร่วมกับโรงพยาบาลส่งเสริมสุขภาพตำบล เพื่อดูแลสุขภาพชุมชน

โครงการนี้เป็นการให้บริการด้านสุขภาพแก่ประชาชนในพื้นที่ โดยเฉพาะผู้สูงอายุและผู้ที่มีข้อจำกัดในการเข้าถึงบริการสุขภาพ

บริการที่ให้:
- ตรวจวัดความดันโลหิต
- ตรวจระดับน้ำตาลในเลือด
- ตรวจมวลกระดูก
- ตรวจสายตา
- คำแนะนำด้านโภชนาการ
- ให้คำปรึกษาด้านสุขภาพ

กลุ่มเป้าหมาย: ประชาชนทุกเพศทุกวัย โดยเฉพาะผู้สูงอายุ 60 ปีขึ้นไป`,
    image: "/image/Boat.jpg",
    created_at: "2024-02-28T13:00:00Z",
    type: "กิจกรรม",
    location: "ศาลาประชาคมตำบลบ้านโพธิ์",
    organizer: "เทศบาลตำบลบ้านโพธิ์ ร่วมกับโรงพยาบาลส่งเสริมสุขภาพตำบล"
  },
  {
    id: 6,
    title: "กิจกรรมทำความสะอาดชุมชน",
    content: `ชาวบ้านร่วมใจทำความสะอาดชุมชน เก็บขยะ ปรับปรุงภูมิทัศน์ เพื่อให้ชุมชนน่าอยู่และสวยงาม

กิจกรรม Big Cleaning Day เป็นกิจกรรมที่จัดขึ้นเป็นประจำทุกเดือน เพื่อรักษาความสะอาดและความเป็นระเบียบของชุมชน

กิจกรรมที่ทำ:
- เก็บขยะในที่สาธารณะ
- ตัดแต่งกิ่งไม้
- ทำความสะอาดท่อระบายน้ำ
- ปรับปรุงภูมิทัศน์
- ทาสีรั้วและป้ายต่างๆ
- ปลูกดอกไม้ประดับ

ผลลัพธ์: ชุมชนสะอาด สวยงาม น่าอยู่ และเป็นแบบอย่างให้ชุมชนอื่น`,
    image: "/image/Boat.jpg",
    created_at: "2024-05-10T07:00:00Z",
    type: "กิจกรรม",
    location: "ทั่วพื้นที่ตำบลบ้านโพธิ์",
    organizer: "เทศบาลตำบลบ้านโพธิ์ ร่วมกับประชาชนในพื้นที่"
  }
];

export async function GET(request, { params }) {
  try {
    const { id } = params;
    
    // Find the activity by ID
    const activity = mockActivities.find(post => post.id === parseInt(id));
    
    if (!activity) {
      return NextResponse.json(
        { 
          success: false, 
          error: 'Activity not found',
          post: null
        },
        { status: 404 }
      );
    }

    return NextResponse.json({
      success: true,
      post: activity
    });

  } catch (error) {
    console.error('Error fetching activity:', error);
    return NextResponse.json(
      { 
        success: false, 
        error: 'Failed to fetch activity',
        post: null
      },
      { status: 500 }
    );
  }
}

// TODO: Replace mock data with actual database queries
// Example with a database:
/*
import { connectToDatabase } from '@/lib/mongodb'; // or your database connection

export async function GET(request, { params }) {
  try {
    const { id } = params;
    const { db } = await connectToDatabase();
    
    const activity = await db
      .collection('posts')
      .findOne({ _id: new ObjectId(id) });

    if (!activity) {
      return NextResponse.json(
        { 
          success: false, 
          error: 'Activity not found',
          post: null
        },
        { status: 404 }
      );
    }

    return NextResponse.json({
      success: true,
      post: activity
    });

  } catch (error) {
    console.error('Error fetching activity:', error);
    return NextResponse.json(
      { 
        success: false, 
        error: 'Failed to fetch activity',
        post: null
      },
      { status: 500 }
    );
  }
}
*/